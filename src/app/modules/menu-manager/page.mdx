export const metadata = {
  title: 'Menu Manager',
  description: 'How to manage and add items to the application menu using the Menu Manager in Inkdrop.',
}

# Menu Manager

Provides a registry for menu items that you'd like to appear in the application menu.

An instance of this class is always available as the `inkdrop.menu` global.

## Menu JSON Format

Here is an example from the [inkdrop-paste-as-markdown](https://github.com/inkdropapp/inkdrop-paste-as-markdown):

```js
[
  {
    label: 'Plugins',
    submenu: [
      {
        label: 'Paste as Markdown',
        command: 'paste-as-markdown'
      }
    ]
  }
]
```

Use in your package's menu `.json` file requires that you place your menu structure under a `menu` key.

```js
{
  "menu": [
    {
      "label": "File",
      "submenu": [
        {
          "label": "Import",
          "submenu": [
            { "label": "from HTML files..", "command": "import-html:import-from-file" }
          ]
        }
      ]
    }
  ]
}
```

See `::add` for more info about adding menu's directly.

---

## Add Menu Items {{ label: 'add(items)' }}

Add items to the application menu.

<Row>
  <Col>
    ### Parameters
    <Properties>
      <Property name="items" type="array" required>
        An array of menu item objects containing the following keys:

        <Properties sub title="item object">
          <Property name="label" type="string">
            The String menu label.
          </Property>
          <Property name="submenu" type="object">
            An optional Array of sub menu items.
          </Property>
          <Property name="command" type="string">
            An optional String command to trigger when the item is clicked.
          </Property>
        </Properties>
      </Property>
    </Properties>

    ### Returns
    Returns a [Disposable](/event-subscription/disposable) on which `.dispose()` can be called to remove the added menu items.
  </Col>
  <Col sticky>
    <CodeGroup title="Adding Menu Items Example">
    ```js
    inkdrop.menu.add([
      {
        label: 'Hello',
        submenu: [{ label: 'World!', command: 'hello:world' }]
      }
    ])
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Refresh the Menu {{ label: 'update()' }}

Refresh the currently visible menu to reflect any changes.

---
